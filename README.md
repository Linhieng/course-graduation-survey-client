# 问卷系统

烂尾。

简单说一下项目历程吧。
1. 最开始的自己设计 UI (对应 old-main 分支和 refactor 分支)。
2. 因为自己设计的太丑，所以只能使用 arco design 设计的 UI（对应 refactor2 分支）
3. 为了打包部署，又再次重构项目（对应 refactor3 分支）

最后简单说说项目的可取之处和不可取之处吧。

可取之处：
- 对于 axios 的封装我是比较满意的，但还有点问题，也就是拦截器中的类型有点对不上，需要借助 `@ts-ignore`。
- 对 icon-font 的简单封装也是可以的，但这个主要是跟着文档来说，算不上我自己的东西。
- 多个组件中的状态采用 pinia 进行统一管理，这个思路也是可以，在很多时候帮我节省了很多麻烦。
- arco design 的路由文件夹结构处理的很好，但是 meta 对象中的一些变量设置的不太行，让人混乱。

不可取之处：
- 重复性代码极多，特别是那 src/views/list 中的组件，真的就是拷贝粘贴，质量非常差。
- 虽然 axios 的封装不错，但在具体使用上还是有很多重复代码，最常见的就是 loading 变量，有些页面上几乎需要很几个 loading 变量进行处理。但这个问题我确实不知道有什么好的解决方案。
- 虽然把多个组件的状态提取到了 store 中了，但这也导致了再次进入某个页面时，容易出现未清理完毕的数据，就是垃圾没扫干净一样。
- 还有很多代码，都是随性而写，完全没有 review。
- 没能处理好问卷编辑界面的架构，目前的设计方案，想要添加新的问题类型是非常复杂的，需要变动很多代码，一个不留意就是一个 bug

总的来说，如果别人单纯只看实现出来的页面效果，那确实挺不错的，毕竟 UI 设计是参考了 arco design 的。但这些页面背后的代码质量真的
不太行，很多地方都需大改。
